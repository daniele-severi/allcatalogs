<!DOCTYPE html>
<html>
<head>
   <script
   src="https://code.jquery.com/jquery-3.6.0.min.js"
   integrity="sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK"
   crossorigin="anonymous"
   ></script>
  <style>
    table, th, td {
      border: 1px solid black;
      border-collapse: collapse;
    }
    th, td {
      padding: 5px;
    }
  </style>
</head>
<body>
  <h2>JSON to HTML Table</h2>
  <div id="json-table"></div>
  <script>
    $(document).ready(function() {
      $.ajax({
        url: "https://cors-anywhere.herokuapp.com/https://update.nimblestorage.com/catalog/v1/getAllCatalogs",
        type: "GET",
        success: function(data) {
          var json = JSON.parse(data);
          var table = $("<table></table>").attr("id", "mytable");
          var thead = $("<thead></thead>");
          var tbody = $("<tbody></tbody>");
          
          // Creating header of the table
          var header = json[0];
          var headerRow = $("<tr></tr>");
          for (var key in header) {
            headerRow.append($("<th></th>").text(key));
          }
          thead.append(headerRow);
          
          // Creating body of the table
          for (var i = 0; i < json.length; i++) {
            var item = json[i];
            var row = $("<tr></tr>");
            for (var key in header) {
              row.append($("<td></td>").text(item[key]));
            }
            tbody.append(row);
          }
          
          // Appending thead and tbody to the table
          table.append(thead);
          table.append(tbody);
          
          // Appending the table to the div
          $("#json-table").append(table);
        }
      });
    });
  </script>
</body>
</html>
